---
layout: post
title: "TIL django, web"
categories: [ TIL ]
permalink: /TIL/:year/:month/:day/:title/
---

# 2021-01-22 {{page.title}}
&nbsp;  
오늘 한 일
    - 스타벅스 모델링 수정본 기반으로 django 모델 만들고 제출
    - python 퀴즈
    - How the web works 블로그 글 쓰기

내일 할 일
    - django db, migration 건드리기 연습
    - django 정참조, 역참조 연습하기

python 퀴즈는 간단한 문제였는데 내가 그걸 푸는 방식이 많이 pythonic해졌다. Repl.it을 풀면서 개념에 대해 더 공부하고 정리하며 method를 더 안 게 도움이 되었다. 다만 숫자를 formatting하는 부분이 약하다고 느꼈다.
퀴즈를 풀다가 'list' object is not callable 에러가 떴는데 구글링해보니 대개 변수명을 다른 type 변수에 중복으로 썼을 때 발생했다고 나왔다. 내 경우는 리스트에 index를 전달하는 곳의 괄호가 []가 아닌 ()로 들어가 있던 게 문제였다.  

스타벅스 모델링 수정본 기반으로 django 모델을 만들고 샘플 데이터를 넣은 다음 제출했다. 어제 밤부터 시작해서 2시간 정도 걸렸다. 모델을 미리 다 정립해놓은 터라 수정할 거라곤 column name 정도였기에 에러날 일도 없었고 무난하게 만들었다. 새로 세팅한 neovim을 쓰는 맛이 났고 샘플 데이터를 손으로 입력하는 게 귀찮았다.
models.py에서 column명을 줄 때 그냥 name 이렇게 주는 예시를 보고 나서 어 모델링 할 땐 column명이 뭘 뜻하는지 분명히 하랬는데 좀 더 구체적으로 써야되는 게 아닌가? 싶었다. class Category면 category_name 이렇게. 근데 shell에서 쳐보다보니 그냥 name이라고 쓰는 게 나은 거 같다... 어차피 어느 클래스에서 불러오는 객체인지 앞에 쓰니까.  

db, migration 파일, medels.py를 일부러 고쳐보고 여기저기 건드리는 연습과 shell에서 정참조, 역참조해보는 연습을 주말동안 할 예정이다. migration 난리치는 건 예전에도 겪긴 했지만 어떻게 건드리면 어떤 에러가 나는지 정리가 좀 필요한 것 같다. 동기가 models.py의 class명을 변경하면 어떻게 되냐고 질문을 했는데 대답을 못 했다.
먼저 과제로 만들어 둔 db를 백업해서 다른 django 프로젝트에 이식하는 것부터 해보고, 그 뒤에 이 새로운 프로젝트 파일을 건드려 봐야지.
1. 밀 때 밀더라도 잘 미는 법 - db를 밀기 / drop table / migration 파일들 지워보기 - 이런 행동이 어떤 결과를 가져오는지. 어느 게 나은지.
2. migration 파일 들여다보기
3. db에 직접 손 대보고 이후 어떻게 되는지 관찰 - drop table도 이 일종
4. models.py에 있는 요소 여러가지 수정해보고 이후 어떻게 되는지 관찰 - class 이름 등
그리고 이걸 하면서 리눅스 터미널 여러개 띄우면서 화면분할하는 것도 해봐야지. screen과 terminator 이렇게 두가지 방법이 있는데 screen 먼저 쓸 거다.

어제는 http에 대한 수업을 들었고 오늘은 웹에 대한 설명을 들었다. 네트워크 7계층을 추가로 공부하면 도움이 더 될 거라는데 학교다닐 때 배운 거 다 까먹었다...
웹이 어떻게 동작하는지 요약하자면 - 브라우저에서 DNS 서버로 domain name을 담은 요청을 보내고 IP 주소를 응답 받은 다음, 해당 IP 주소의 호스트 서버에 요청을 보내고 브라우저에 보여줄 파일을 응답받는다. 그러고나면 사용자가 볼 수 있다.
여기서 통신이 브라우저 - DNS 서버, 브라우저 - 호스트 서버 이렇게 두가지가 있는데 각각의 프로토콜이 뭔지 궁금해서 찾아봤다. 두가지 다 Application Layer의 프로토콜이고, 전자는 DNS, 후자는 HTTP이다.