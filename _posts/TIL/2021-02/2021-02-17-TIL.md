---
layout: post
title: "TIL db modeling"
categories: [ TIL ]
permalink: /TIL/:year/:month/:day/:title/
---

# 2021-02-17 {{page.title}}
&nbsp;  

어제 ~ 오늘 한 일
    - trello 백엔드 카드 추가, 수정하기
    - Style We 프로젝트 2, 3차 모델링
    - Style We 프로젝트 Store 파트, Order 파트 모델링
    - models.py 작성 시작

내일 할 일
    - models.py 끝내고 PR
    - westagram mission 4 끝내기
    - Style We models.py 수정 및 업무 분담
    - 내 업무 구현 시작

틈틈이 할 일
    - westagram 추가 구현
    - django views.py, urls.py 블로그 글 쓰기
    - 2 scoops of django 책 훑기

1차 프로젝트 끝나고 할 일
    - [django 책](https://wikidocs.net/book/4223) 3-09부터 훑기
    - 블로그 공사

어제 노트북을 두고 귀가해서 TIL을 못 썼다. 월요일부터 모델링하는데 진짜 머리가 뜨거워진다. 답은 없지만 더 적당한 답을 찾기 위해서 계속 머리를 굴리는 게 힘들지만 재밌기도 했다. 내 답에 매몰되는 걸 주의해야 겠다.
프론트와 소통할 때마다 서로 얼마나 다른지 알게 된다. 프론트는 페이지 단위로 넘어가는, 좀 더 일반 사용자의 시각에 가까운 덩어리를 본다면 백은 전혀 다르다. 모델링 내내 페이지 위주의 시각에서 벗어나려 애써야 된다. 나름 걷어냈다고 생각했는데 소헌님한테서 리뷰받을 때마다 그보다 더 나아가는 시각을 다시 배운다. 그리고 이제 models.py를 다 만들면 드디어 로직 짜는 코딩을 할 수 있다! 코딩이 너무 기다려질 정도로 모델링에 매달렸다.  

사용자가 column을 추가하는 것처럼 보이는 구조를 어떻게 모델링할 수 있을지 엄청나게 고민했는데 RDBMS의 한계였다. 이럴 때 NoSQL을 쓰면 좋다는 걸 알았다. 둘의 차이에 대해 어렴풋이만 알았는데 이렇게 practical하게 알게 되어서 좋았고, 지금 모델링을 하면서 고민을 많이 했으니 깨닫게 된 거 같다.
그리고 log를 저장할 때, 매 요청마다 정렬하거나 카운트 하지 않으려고 일정 시간 텀 내에는 임시 저장값을 보여주고 하는 역할에는 Redis를 사용한다고 들었다. 이걸 꼭 사용해보고 싶다. seoulbike 프로젝트에서 데이터의 바다에 허덕이던 상황을 개선할 수 있을 것 같다. 모든 데이터의 로그를 남겨야 하던 프로젝트였으니까.
그리고 RDBMS의 테이블 하나에 연결이 집중되면 이 부하를 견딜 수 있을까?싶었는데 이보다 더 가중되게 만들어서 사용한다는 걸 듣고 진짜 신기했다.  

westagram mission 4 URLField의 validator가 일을 안 하는 문제에 대해 조사하지 못했다. 내일은 꼭 알아봐야 겠다...
